@model NoteAppMVCPattern.Models.Note
@{
    ViewData["Title"] = "Yeni Not";
}

<h2 >Yeni Not Ekle</h2>

@if (TempData["Message"] != null)
{
    <div id="successMsg" class="alert alert-success mt-3">
        @TempData["Message"]
    </div>

    <script>
        $(document).ready(function () {
            setTimeout(function () {
                $('#successMsg').fadeOut(500, function () {
                    window.location.href = '/User/Index';
                });
            }, 2000);
        });
    </script>
}
@{
<form asp-action="Create" method="post">

    <div class="form-group fw-bolder fs-4">
        <label asp-for="Title"></label>
        <input asp-for="Title"
               class="form-control w-50 "
               style="height: 2.5rem;" />
        <span asp-validation-for="Title" class="text-danger"></span>
    </div>

        

    <div class="form-group">
        <div class="form-group mb-2 fw-bolder fs-4">
        <label asp-for="Content"></label>
                @{
                    var placeholderText = Model.User.Notes.Count < 1 ? "# ile başlayan kelimeler notunuza tag olarak eklenecektir." : "";
                }
                <textarea asp-for="Content"
                          class="form-control w-100"
                          rows="6"
                          style="resize: vertical;"
                          placeholder="@placeholderText">
        </textarea>
        <span asp-validation-for="Content" class="text-danger"></span>
    </div>
            
    <button type="submit"
            class="btn btn-success d-inline-flex align-items-center pe-lg-2">
        <i class="bi bi-check-all"></i>
            <span class="pe-1">Kaydet</span>        
    </button>
    <a asp-controller="Note" asp-action="Index" class="btn btn-danger">Geri dön</a>
    </div>
</form>
}

@section Scripts {
    <!-- FluentValidation veya jQuery validation desteği -->
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}
